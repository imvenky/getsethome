!function(t,e){function i(){return new Date(Date.UTC.apply(Date,arguments))}function s(){var t=new Date;return i(t.getFullYear(),t.getMonth(),t.getDate())}function a(t){return function(){return this[t].apply(this,arguments)}}function n(e,i){function s(t,e){return e.toLowerCase()}var a,n=t(e).data(),r={},o=new RegExp("^"+i.toLowerCase()+"([A-Z])");i=new RegExp("^"+i.toLowerCase());for(var h in n)i.test(h)&&(a=h.replace(o,s),r[a]=n[h]);return r}function r(e){var i={};if(f[e]||(e=e.split("-")[0],f[e])){var s=f[e];return t.each(p,function(t,e){e in s&&(i[e]=s[e])}),i}}var o=t(window),h=function(){var e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),i=0,s=this.length;s>i;i++)if(this[i].valueOf()===e)return i;return-1},remove:function(t){this.splice(t,1)},replace:function(e){e&&(t.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.splice(0)},copy:function(){var t=new h;return t.replace(this),t}};return function(){var i=[];return i.push.apply(i,arguments),t.extend(i,e),i}}(),l=function(e,i){this.dates=new h,this.viewDate=s(),this.focusDate=null,this._process_options(i),this.element=t(e),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on, .input-group-addon, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=t(m.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};l.prototype={constructor:l,_process_options:function(e){this._o=t.extend({},this._o,e);var i=this.o=t.extend({},this._o),s=i.language;switch(f[s]||(s=s.split("-")[0],f[s]||(s=d.language)),i.language=s,i.startView){case 2:case"decade":i.startView=2;break;case 1:case"year":i.startView=1;break;default:i.startView=0}switch(i.minViewMode){case 1:case"months":i.minViewMode=1;break;case 2:case"years":i.minViewMode=2;break;default:i.minViewMode=0}i.startView=Math.max(i.startView,i.minViewMode),i.multidate!==!0&&(i.multidate=Number(i.multidate)||!1,i.multidate!==!1?i.multidate=Math.max(0,i.multidate):i.multidate=1),i.multidateSeparator=String(i.multidateSeparator),i.weekStart%=7,i.weekEnd=(i.weekStart+6)%7;var a=m.parseFormat(i.format);i.startDate!==-(1/0)&&(i.startDate?i.startDate instanceof Date?i.startDate=this._local_to_utc(this._zero_time(i.startDate)):i.startDate=m.parseDate(i.startDate,a,i.language):i.startDate=-(1/0)),i.endDate!==1/0&&(i.endDate?i.endDate instanceof Date?i.endDate=this._local_to_utc(this._zero_time(i.endDate)):i.endDate=m.parseDate(i.endDate,a,i.language):i.endDate=1/0),i.daysOfWeekDisabled=i.daysOfWeekDisabled||[],t.isArray(i.daysOfWeekDisabled)||(i.daysOfWeekDisabled=i.daysOfWeekDisabled.split(/[,\s]*/)),i.daysOfWeekDisabled=t.map(i.daysOfWeekDisabled,function(t){return parseInt(t,10)});var n=String(i.orientation).toLowerCase().split(/\s+/g),r=i.orientation.toLowerCase();if(n=t.grep(n,function(t){return/^auto|left|right|top|bottom$/.test(t)}),i.orientation={x:"auto",y:"auto"},r&&"auto"!==r)if(1===n.length)switch(n[0]){case"top":case"bottom":i.orientation.y=n[0];break;case"left":case"right":i.orientation.x=n[0]}else r=t.grep(n,function(t){return/^left|right$/.test(t)}),i.orientation.x=r[0]||"auto",r=t.grep(n,function(t){return/^top|bottom$/.test(t)}),i.orientation.y=r[0]||"auto";else;},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var i,s,a,n=0;n<t.length;n++)i=t[n][0],2===t[n].length?(s=e,a=t[n][1]):3===t[n].length&&(s=t[n][1],a=t[n][2]),i.on(a,s)},_unapplyEvents:function(t){for(var i,s,a,n=0;n<t.length;n++)i=t[n][0],2===t[n].length?(a=e,s=t[n][1]):3===t[n].length&&(a=t[n][1],s=t[n][2]),i.off(s,a)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:t.proxy(this.show,this),keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:t.proxy(this.show,this),keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this)}],[this.component,{click:t.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:t.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:t.proxy(function(t){this._focused_from=t.target},this)}]),this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{"mousedown touchstart":t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,i){var s=i||this.dates.get(-1),a=this._utc_to_local(s);this.element.trigger({type:e,date:a,dates:t.map(this.dates,this._utc_to_local),format:t.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var i=this.dates.get(t);return m.formatDate(i,e,this.o.language)},this)})},show:function(){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.place(),this._attachSecondaryEvents(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},_utc_to_local:function(t){return t&&new Date(t.getTime()+6e4*t.getTimezoneOffset())},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))},getDates:function(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function(){return t.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return new Date(this.dates.get(-1))},setDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,e),this._trigger("changeDate"),this.setValue()},setUTCDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,t.map(e,this._utc_to_local)),this._trigger("changeDate"),this.setValue()},setDate:a("setDates"),setUTCDate:a("setUTCDates"),setValue:function(){var t=this.getFormattedDate();this.isInput?this.element.val(t).change():this.component&&this.element.find("input").val(t).change()},getFormattedDate:function(i){i===e&&(i=this.o.format);var s=this.o.language;return t.map(this.dates,function(t){return m.formatDate(t,i,s)}).join(this.o.multidateSeparator)},setStartDate:function(t){this._process_options({startDate:t}),this.update(),this.updateNavArrows()},setEndDate:function(t){this._process_options({endDate:t}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(t){this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var e=this.picker.outerWidth(),i=this.picker.outerHeight(),s=10,a=o.width(),n=o.height(),r=o.scrollTop(),h=parseInt(this.element.parents().filter(function(){return"auto"!==t(this).css("z-index")}).first().css("z-index"))+10,l=this.component?this.component.parent().offset():this.element.offset(),u=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),c=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),d=l.left,p=l.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(d-=e-c)):(this.picker.addClass("datepicker-orient-left"),l.left<0?d-=l.left-s:l.left+e>a&&(d=a-e-s));var f,m,g=this.o.orientation.y;"auto"===g&&(f=-r+l.top-i,m=r+n-(l.top+u+i),g=Math.max(f,m)===m?"top":"bottom"),this.picker.addClass("datepicker-orient-"+g),"top"===g?p+=u:p-=i+parseInt(this.picker.css("padding-top")),this.picker.css({top:p,left:d,zIndex:h})}},_allow_update:!0,update:function(){if(this._allow_update){var e=this.dates.copy(),i=[],s=!1;arguments.length?(t.each(arguments,t.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),i.push(e)},this)),s=!0):(i=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),i=i&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date),i=t.map(i,t.proxy(function(t){return m.parseDate(t,this.o.format,this.o.language)},this)),i=t.grep(i,t.proxy(function(t){return t<this.o.startDate||t>this.o.endDate||!t},this),!0),this.dates.replace(i),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),s?this.setValue():i.length&&String(e)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&e.length&&this._trigger("clearDate"),this.fill()}},fillDow:function(){var t=this.o.weekStart,e="<tr>";if(this.o.calendarWeeks){var i='<th class="cw">&nbsp;</th>';e+=i,this.picker.find(".datepicker-days thead tr:first-child").prepend(i)}for(;t<this.o.weekStart+7;)e+='<th class="dow">'+f[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;12>e;)t+='<span class="month">'+f[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var i=[],s=this.viewDate.getUTCFullYear(),a=this.viewDate.getUTCMonth(),n=new Date;return e.getUTCFullYear()<s||e.getUTCFullYear()===s&&e.getUTCMonth()<a?i.push("old"):(e.getUTCFullYear()>s||e.getUTCFullYear()===s&&e.getUTCMonth()>a)&&i.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&e.getUTCFullYear()===n.getFullYear()&&e.getUTCMonth()===n.getMonth()&&e.getUTCDate()===n.getDate()&&i.push("today"),-1!==this.dates.contains(e)&&i.push("active"),(e.valueOf()<this.o.startDate||e.valueOf()>this.o.endDate||-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled))&&i.push("disabled"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&i.push("range"),-1!==t.inArray(e.valueOf(),this.range)&&i.push("selected")),i},fill:function(){var s,a=new Date(this.viewDate),n=a.getUTCFullYear(),r=a.getUTCMonth(),o=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),h=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),l=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,u=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,c=f[this.o.language].today||f.en.today||"",d=f[this.o.language].clear||f.en.clear||"";this.picker.find(".datepicker-days thead th.datepicker-switch").text(f[this.o.language].months[r]+" "+n),this.picker.find("tfoot th.today").text(c).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(d).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var p=i(n,r-1,28),g=m.getDaysInMonth(p.getUTCFullYear(),p.getUTCMonth());p.setUTCDate(g),p.setUTCDate(g-(p.getUTCDay()-this.o.weekStart+7)%7);var v=new Date(p);v.setUTCDate(v.getUTCDate()+42),v=v.valueOf();for(var D,k=[];p.valueOf()<v;){if(p.getUTCDay()===this.o.weekStart&&(k.push("<tr>"),this.o.calendarWeeks)){var T=new Date(+p+(this.o.weekStart-p.getUTCDay()-7)%7*864e5),y=new Date(Number(T)+(11-T.getUTCDay())%7*864e5),w=new Date(Number(w=i(y.getUTCFullYear(),0,1))+(11-w.getUTCDay())%7*864e5),C=(y-w)/864e5/7+1;k.push('<td class="cw">'+C+"</td>")}if(D=this.getClassNames(p),D.push("day"),this.o.beforeShowDay!==t.noop){var b=this.o.beforeShowDay(this._utc_to_local(p));b===e?b={}:"boolean"==typeof b?b={enabled:b}:"string"==typeof b&&(b={classes:b}),b.enabled===!1&&D.push("disabled"),b.classes&&(D=D.concat(b.classes.split(/\s+/))),b.tooltip&&(s=b.tooltip)}D=t.unique(D),k.push('<td class="'+D.join(" ")+'"'+(s?' title="'+s+'"':"")+">"+p.getUTCDate()+"</td>"),p.getUTCDay()===this.o.weekEnd&&k.push("</tr>"),p.setUTCDate(p.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(k.join(""));var _=this.picker.find(".datepicker-months").find("th:eq(1)").text(n).end().find("span").removeClass("active");t.each(this.dates,function(t,e){e.getUTCFullYear()===n&&_.eq(e.getUTCMonth()).addClass("active")}),(o>n||n>l)&&_.addClass("disabled"),n===o&&_.slice(0,h).addClass("disabled"),n===l&&_.slice(u+1).addClass("disabled"),k="",n=10*parseInt(n/10,10);var M=this.picker.find(".datepicker-years").find("th:eq(1)").text(n+"-"+(n+9)).end().find("td");n-=1;for(var U,I=t.map(this.dates,function(t){return t.getUTCFullYear()}),x=-1;11>x;x++)U=["year"],-1===x?U.push("old"):10===x&&U.push("new"),-1!==t.inArray(n,I)&&U.push("active"),(o>n||n>l)&&U.push("disabled"),k+='<span class="'+U.join(" ")+'">'+n+"</span>",n+=1;M.html(k)},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),i=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-(1/0)&&e<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-(1/0)&&e<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(e){e.preventDefault();var s,a,n,r=t(e.target).closest("span, td, th");if(1===r.length)switch(r[0].nodeName.toLowerCase()){case"th":switch(r[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var o=m.modes[this.viewMode].navStep*("prev"===r[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,o),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,o),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var h=new Date;h=i(h.getFullYear(),h.getMonth(),h.getDate(),0,0,0),this.showMode(-2);var l="linked"===this.o.todayBtn?null:"view";this._setDate(h,l);break;case"clear":var u;this.isInput?u=this.element:this.component&&(u=this.element.find("input")),u&&u.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()}break;case"span":r.is(".disabled")||(this.viewDate.setUTCDate(1),r.is(".month")?(n=1,a=r.parent().find("span").index(r),s=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(a),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(i(s,a,n))):(n=1,a=0,s=parseInt(r.text(),10)||0,this.viewDate.setUTCFullYear(s),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(i(s,a,n))),this.showMode(-1),this.fill());break;case"td":r.is(".day")&&!r.is(".disabled")&&(n=parseInt(r.text(),10)||1,s=this.viewDate.getUTCFullYear(),a=this.viewDate.getUTCMonth(),r.is(".old")?0===a?(a=11,s-=1):a-=1:r.is(".new")&&(11===a?(a=0,s+=1):a+=1),this._setDate(i(s,a,n)))}this.picker.is(":visible")&&this._focused_from&&t(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t?-1!==e?this.dates.remove(e):this.dates.push(t):this.dates.clear(),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),e&&"view"!==e||(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),this._trigger("changeDate");var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&i.change(),!this.o.autoclose||e&&"date"!==e||this.hide()},moveMonth:function(t,i){if(!t)return e;if(!i)return t;var s,a,n=new Date(t.valueOf()),r=n.getUTCDate(),o=n.getUTCMonth(),h=Math.abs(i);if(i=i>0?1:-1,1===h)a=-1===i?function(){return n.getUTCMonth()===o}:function(){return n.getUTCMonth()!==s},s=o+i,n.setUTCMonth(s),(0>s||s>11)&&(s=(s+12)%12);else{for(var l=0;h>l;l++)n=this.moveMonth(n,i);s=n.getUTCMonth(),n.setUTCDate(r),a=function(){return s!==n.getUTCMonth()}}for(;a();)n.setUTCDate(--r),n.setUTCMonth(s);return n},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":not(:visible)"))return void(27===t.keyCode&&this.show());var e,i,a,n=!1,r=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37===t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.dates.get(-1)||s(),e),a=this.moveYear(r,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(i=this.moveMonth(this.dates.get(-1)||s(),e),a=this.moveMonth(r,e),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.dates.get(-1)||s()),i.setUTCDate(i.getUTCDate()+e),a=new Date(r),a.setUTCDate(r.getUTCDate()+e)),this.dateWithinRange(i)&&(this.focusDate=this.viewDate=a,this.setValue(),this.fill(),t.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38===t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.dates.get(-1)||s(),e),a=this.moveYear(r,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(i=this.moveMonth(this.dates.get(-1)||s(),e),a=this.moveMonth(r,e),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.dates.get(-1)||s()),i.setUTCDate(i.getUTCDate()+7*e),a=new Date(r),a.setUTCDate(r.getUTCDate()+7*e)),this.dateWithinRange(i)&&(this.focusDate=this.viewDate=a,this.setValue(),this.fill(),t.preventDefault());break;case 32:break;case 13:r=this.focusDate||this.dates.get(-1)||this.viewDate,this._toggle_multidate(r),n=!0,this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(n){this.dates.length?this._trigger("changeDate"):this._trigger("clearDate");var o;this.isInput?o=this.element:this.component&&(o=this.element.find("input")),o&&o.change()}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+t))),this.picker.find(">div").hide().filter(".datepicker-"+m.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var u=function(e,i){this.element=t(e),this.inputs=t.map(i.inputs,function(t){return t.jquery?t[0]:t}),delete i.inputs,t(this.inputs).datepicker(i).bind("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t(e).data("datepicker")}),this.updateDates()};u.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,i){i.setRange(e)})},dateUpdated:function(e){if(!this.updating){this.updating=!0;var i=t(e.target).data("datepicker"),s=i.getUTCDate(),a=t.inArray(e.target,this.inputs),n=this.inputs.length;if(-1!==a){if(t.each(this.pickers,function(t,e){e.getUTCDate()||e.setUTCDate(s)}),s<this.dates[a])for(;a>=0&&s<this.dates[a];)this.pickers[a--].setUTCDate(s);else if(s>this.dates[a])for(;n>a&&s>this.dates[a];)this.pickers[a++].setUTCDate(s);this.updateDates(),delete this.updating}}},remove:function(){t.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var c=t.fn.datepicker;t.fn.datepicker=function(i){var s=Array.apply(null,arguments);s.shift();var a;return this.each(function(){var o=t(this),h=o.data("datepicker"),c="object"==typeof i&&i;if(!h){var p=n(this,"date"),f=t.extend({},d,p,c),m=r(f.language),g=t.extend({},d,m,p,c);if(o.is(".input-daterange")||g.inputs){var v={inputs:g.inputs||o.find("input").toArray()};o.data("datepicker",h=new u(this,t.extend(g,v)))}else o.data("datepicker",h=new l(this,g))}return"string"==typeof i&&"function"==typeof h[i]&&(a=h[i].apply(h,s),a!==e)?!1:void 0}),a!==e?a:this};var d=t.fn.datepicker.defaults={autoclose:!1,beforeShowDay:t.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},p=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=l;var f=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},m={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4===0&&t%100!==0||t%400===0},getDaysInMonth:function(t,e){return[31,m.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\x00").split("\x00"),i=t.match(this.validParts);if(!e||!e.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:e,parts:i}},parseDate:function(s,a,n){function r(){var t=this.slice(0,d[u].length),e=d[u].slice(0,t.length);return t===e}if(!s)return e;if(s instanceof Date)return s;"string"==typeof a&&(a=m.parseFormat(a));var o,h,u,c=/([\-+]\d+)([dmwy])/,d=s.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(s)){for(s=new Date,u=0;u<d.length;u++)switch(o=c.exec(d[u]),h=parseInt(o[1]),o[2]){case"d":s.setUTCDate(s.getUTCDate()+h);break;case"m":s=l.prototype.moveMonth.call(l.prototype,s,h);break;case"w":s.setUTCDate(s.getUTCDate()+7*h);break;case"y":s=l.prototype.moveYear.call(l.prototype,s,h)}return i(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate(),0,0,0)}d=s&&s.match(this.nonpunctuation)||[],s=new Date;var p,g,v={},D=["yyyy","yy","M","MM","m","mm","d","dd"],k={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;0>e;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};k.M=k.MM=k.mm=k.m,k.dd=k.d,s=i(s.getFullYear(),s.getMonth(),s.getDate(),0,0,0);var T=a.parts.slice();if(d.length!==T.length&&(T=t(T).filter(function(e,i){return-1!==t.inArray(i,D)}).toArray()),d.length===T.length){var y;for(u=0,y=T.length;y>u;u++){if(p=parseInt(d[u],10),o=T[u],isNaN(p))switch(o){case"MM":g=t(f[n].months).filter(r),p=t.inArray(g[0],f[n].months)+1;break;case"M":g=t(f[n].monthsShort).filter(r),p=t.inArray(g[0],f[n].monthsShort)+1}v[o]=p}var w,C;for(u=0;u<D.length;u++)C=D[u],C in v&&!isNaN(v[C])&&(w=new Date(s),k[C](w,v[C]),isNaN(w)||(s=w))}return s},formatDate:function(e,i,s){if(!e)return"";"string"==typeof i&&(i=m.parseFormat(i));var a={d:e.getUTCDate(),D:f[s].daysShort[e.getUTCDay()],DD:f[s].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:f[s].monthsShort[e.getUTCMonth()],MM:f[s].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};a.dd=(a.d<10?"0":"")+a.d,a.mm=(a.m<10?"0":"")+a.m,e=[];for(var n=t.extend([],i.separators),r=0,o=i.parts.length;o>=r;r++)n.length&&e.push(n.shift()),e.push(a[i.parts[r]]);return e.join("")},headTemplate:'<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};m.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+m.headTemplate+"<tbody></tbody>"+m.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=m,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=c,this},t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var i=t(this);i.data("datepicker")||(e.preventDefault(),i.datepicker("show"))}),t(function(){t('[data-provide="datepicker-inline"]').datepicker()})}(window.jQuery),function(t){t&&(t.fn.datepair=function(e){var i;return this.each(function(){var s=t(this),a=s.data("datepair"),n="object"==typeof e&&e;a||(a=new Datepair(this,n),s.data("datepair",a)),"string"==typeof e&&(i=a[e]())}),i||this},t("[data-datepair]").each(function(){var e=t(this);e.datepair(e.data())}))}(window.Zepto||window.jQuery),function(t,e){"use strict";function i(t,e){var i=e||{};for(var s in t)s in i||(i[s]=t[s]);return i}function s(t,i){if(o)o(t).trigger(i);else{var s=e.createEvent("CustomEvent");s.initCustomEvent(i,!0,!0,{}),t.dispatchEvent(s)}}function a(t,e){return o?o(t).hasClass(e):t.classList.contains(e)}function n(t,e){this.dateDelta=null,this.timeDelta=null,this._defaults={startClass:"start",endClass:"end",timeClass:"time",dateClass:"date",defaultDateDelta:0,defaultTimeDelta:36e5,anchor:"start",parseTime:function(t){return o(t).timepicker("getTime")},updateTime:function(t,e){o(t).timepicker("setTime",e)},setMinTime:function(t,e){o(t).timepicker("option","minTime",e)},parseDate:function(t){return t.value&&o(t).datepicker("getDate")},updateDate:function(t,e){o(t).datepicker("update",e)}},this.container=t,this.settings=i(this._defaults,e),this.startDateInput=this.container.querySelector("."+this.settings.startClass+"."+this.settings.dateClass),this.endDateInput=this.container.querySelector("."+this.settings.endClass+"."+this.settings.dateClass),this.startTimeInput=this.container.querySelector("."+this.settings.startClass+"."+this.settings.timeClass),this.endTimeInput=this.container.querySelector("."+this.settings.endClass+"."+this.settings.timeClass),this.refresh(),this._updateEndMintime(),this._bindChangeHandler()}var r=864e5,o=t.Zepto||t.jQuery;n.prototype={constructor:n,option:function(t,e){if("object"==typeof t)this.settings=i(this.settings,t);else if("string"==typeof t&&"undefined"!=typeof e)this.settings[t]=e;else if("string"==typeof t)return this.settings[t];this._updateEndMintime()},getTimeDiff:function(){var t=this.dateDelta+this.timeDelta;return!(0>t)||this.startDateInput&&this.endDateInput||(t+=r),t},refresh:function(){if(this.startDateInput&&this.startDateInput.value&&this.endDateInput&&this.endDateInput.value){var t=this.settings.parseDate(this.startDateInput),e=this.settings.parseDate(this.endDateInput);t&&e&&(this.dateDelta=e.getTime()-t.getTime())}if(this.startTimeInput&&this.startTimeInput.value&&this.endTimeInput&&this.endTimeInput.value){var i=this.settings.parseTime(this.startTimeInput),s=this.settings.parseTime(this.endTimeInput);i&&s&&(this.timeDelta=s.getTime()-i.getTime())}},remove:function(){this._unbindChangeHandler()},_bindChangeHandler:function(){o?o(this.container).on("change.datepair",o.proxy(this.handleEvent,this)):this.container.addEventListener("change",this,!1)},_unbindChangeHandler:function(){o?o(this.container).off("change.datepair"):this.container.removeEventListener("change",this,!1)},handleEvent:function(t){this._unbindChangeHandler(),a(t.target,this.settings.dateClass)?""!=t.target.value?this._dateChanged(t.target):this.dateDelta=null:a(t.target,this.settings.timeClass)&&(""!=t.target.value?this._timeChanged(t.target):this.timeDelta=null),this._validateRanges(),this._updateEndMintime(),this._bindChangeHandler()},_dateChanged:function(t){if(this.startDateInput&&this.endDateInput){var e=this.settings.parseDate(this.startDateInput),i=this.settings.parseDate(this.endDateInput);if(e&&i)if("start"==this.settings.anchor&&a(t,this.settings.startClass)){var s=new Date(e.getTime()+this.dateDelta);this.settings.updateDate(this.endDateInput,s)}else if("end"==this.settings.anchor&&a(t,this.settings.endClass)){var s=new Date(i.getTime()-this.dateDelta);this.settings.updateDate(this.startDateInput,s)}else if(e>i){var n=a(t,this.settings.startClass)?this.endDateInput:this.startDateInput,o=this.settings.parseDate(t);this.dateDelta=0,this.settings.updateDate(n,o)}else this.dateDelta=i.getTime()-e.getTime();else if(null!==this.settings.defaultDateDelta){if(e){var h=new Date(e.getTime()+this.settings.defaultDateDelta*r);this.settings.updateDate(this.endDateInput,h)}else if(i){var l=new Date(i.getTime()-this.settings.defaultDateDelta*r);this.settings.updateDate(this.startDateInput,l)}this.dateDelta=this.settings.defaultDateDelta*r}else this.dateDelta=null}},_timeChanged:function(t){if(this.startTimeInput&&this.endTimeInput){var e=this.settings.parseTime(this.startTimeInput),i=this.settings.parseTime(this.endTimeInput);if(e&&i){if("start"==this.settings.anchor&&a(t,this.settings.startClass)){var s=new Date(e.getTime()+this.timeDelta);this.settings.updateTime(this.endTimeInput,s),i=this.settings.parseTime(this.endTimeInput)}else if("end"==this.settings.anchor&&a(t,this.settings.endClass)){var s=new Date(i.getTime()-this.timeDelta);this.settings.updateTime(this.startTimeInput,s),e=this.settings.parseTime(this.startTimeInput)}else if(e>i){var n=a(t,this.settings.startClass)?this.endTimeInput:this.startTimeInput,o=this.settings.parseTime(t);this.timeDelta=0,this.settings.updateTime(n,o)}else this.timeDelta=i.getTime()-e.getTime();var h=i.getTime()-e.getTime(),l=e>i?r:-1*r;if(null!==this.dateDelta&&this.dateDelta+this.timeDelta<=r&&this.dateDelta+h!=0&&(l>0||0!=this.dateDelta)&&(h>=0&&this.timeDelta<0||0>h&&this.timeDelta>=0))if("start"==this.settings.anchor){
var u=this.settings.parseDate(this.endDateInput);this.settings.updateDate(this.endDateInput,new Date(u.getTime()+l)),this._dateChanged(this.endDateInput)}else if("end"==this.settings.anchor){var c=this.settings.parseDate(this.startDateInput);this.settings.updateDate(this.startDateInput,new Date(c.getTime()-l)),this._dateChanged(this.startDateInput)}this.timeDelta=h}else if(null!==this.settings.defaultTimeDelta){if(e){var d=new Date(e.getTime()+this.settings.defaultTimeDelta);this.settings.updateTime(this.endTimeInput,d)}else if(i){var p=new Date(i.getTime()-this.settings.defaultTimeDelta);this.settings.updateTime(this.startTimeInput,p)}this.timeDelta=this.settings.defaultTimeDelta}else this.timeDelta=null}},_updateEndMintime:function(){if("function"==typeof this.settings.setMinTime){var t=null;"start"==this.settings.anchor&&(!this.dateDelta||this.dateDelta<r||this.timeDelta&&this.dateDelta+this.timeDelta<r)&&(t=this.settings.parseTime(this.startTimeInput)),this.settings.setMinTime(this.endTimeInput,t)}},_validateRanges:function(){return this.startTimeInput&&this.endTimeInput&&null===this.timeDelta?void s(this.container,"rangeIncomplete"):this.startDateInput&&this.endDateInput&&null===this.dateDelta?void s(this.container,"rangeIncomplete"):void(!this.startDateInput||!this.endDateInput||this.dateDelta+this.timeDelta>=0?s(this.container,"rangeSelected"):s(this.container,"rangeError"))}},t.Datepair=n}(window,document),function(t){"object"==typeof exports&&exports&&"object"==typeof module&&module&&module.exports===exports?t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(t){var e=t[0];return e.offsetWidth>0&&e.offsetHeight>0}function s(e){if(e.minTime&&(e.minTime=T(e.minTime)),e.maxTime&&(e.maxTime=T(e.maxTime)),e.durationTime&&"function"!=typeof e.durationTime&&(e.durationTime=T(e.durationTime)),"now"==e.scrollDefault)e.scrollDefault=function(){return e.roundingFunction(T(new Date),e)};else if(e.scrollDefault&&"function"!=typeof e.scrollDefault){var i=e.scrollDefault;e.scrollDefault=function(){return e.roundingFunction(T(i),e)}}else e.minTime&&(e.scrollDefault=function(){return e.roundingFunction(e.minTime,e)});if("string"===t.type(e.timeFormat)&&e.timeFormat.match(/[gh]/)&&(e._twelveHourTime=!0),e.showOnFocus===!1&&-1!=e.showOn.indexOf("focus")&&e.showOn.splice(e.showOn.indexOf("focus"),1),e.disableTimeRanges.length>0){for(var s in e.disableTimeRanges)e.disableTimeRanges[s]=[T(e.disableTimeRanges[s][0]),T(e.disableTimeRanges[s][1])];e.disableTimeRanges=e.disableTimeRanges.sort(function(t,e){return t[0]-e[0]});for(var s=e.disableTimeRanges.length-1;s>0;s--)e.disableTimeRanges[s][0]<=e.disableTimeRanges[s-1][1]&&(e.disableTimeRanges[s-1]=[Math.min(e.disableTimeRanges[s][0],e.disableTimeRanges[s-1][0]),Math.max(e.disableTimeRanges[s][1],e.disableTimeRanges[s-1][1])],e.disableTimeRanges.splice(s,1))}return e}function a(e){var i=e.data("timepicker-settings"),s=e.data("timepicker-list");if(s&&s.length&&(s.remove(),e.data("timepicker-list",!1)),i.useSelect){s=t("<select />",{"class":"ui-timepicker-select"});var a=s}else{s=t("<ul />",{"class":"ui-timepicker-list"});var a=t("<div />",{"class":"ui-timepicker-wrapper",tabindex:-1});a.css({display:"none",position:"absolute"}).append(s)}if(i.noneOption)if(i.noneOption===!0&&(i.noneOption=i.useSelect?"Time...":"None"),t.isArray(i.noneOption)){for(var o in i.noneOption)if(parseInt(o,10)==o){var h=n(i.noneOption[o],i.useSelect);s.append(h)}}else{var h=n(i.noneOption,i.useSelect);s.append(h)}if(i.className&&a.addClass(i.className),(null!==i.minTime||null!==i.durationTime)&&i.showDuration){"function"==typeof i.step?"function":i.step;a.addClass("ui-timepicker-with-duration"),a.addClass("ui-timepicker-step-"+i.step)}var u=i.minTime;"function"==typeof i.durationTime?u=T(i.durationTime()):null!==i.durationTime&&(u=i.durationTime);var d=null!==i.minTime?i.minTime:0,p=null!==i.maxTime?i.maxTime:d+w-1;d>p&&(p+=w),p===w-1&&"string"===t.type(i.timeFormat)&&i.show2400&&(p=w);var m=i.disableTimeRanges,g=0,y=m.length,C=i.step;"function"!=typeof C&&(C=function(){return i.step});for(var o=d,_=0;p>=o;_++,o+=60*C(_)){var M=o,U=k(M,i);if(i.useSelect){var I=t("<option />",{value:U});I.text(U)}else{var I=t("<li />");I.data("time",86400>=M?M:M%86400),I.text(U)}if((null!==i.minTime||null!==i.durationTime)&&i.showDuration){var x=D(o-u,i.step);if(i.useSelect)I.text(I.text()+" ("+x+")");else{var S=t("<span />",{"class":"ui-timepicker-duration"});S.text(" ("+x+")"),I.append(S)}}y>g&&(M>=m[g][1]&&(g+=1),m[g]&&M>=m[g][0]&&M<m[g][1]&&(i.useSelect?I.prop("disabled",!0):I.addClass("ui-timepicker-disabled"))),s.append(I)}if(a.data("timepicker-input",e),e.data("timepicker-list",a),i.useSelect)e.val()&&s.val(r(T(e.val()),i)),s.on("focus",function(){t(this).data("timepicker-input").trigger("showTimepicker")}),s.on("blur",function(){t(this).data("timepicker-input").trigger("hideTimepicker")}),s.on("change",function(){f(e,t(this).val(),"select")}),f(e,s.val(),"initial"),e.hide().after(s);else{var F=i.appendTo;"string"==typeof F?F=t(F):"function"==typeof F&&(F=F(e)),F.append(a),c(e,s),s.on("mousedown","li",function(i){e.off("focus.timepicker"),e.on("focus.timepicker-ie-hack",function(){e.off("focus.timepicker-ie-hack"),e.on("focus.timepicker",b.show)}),l(e)||e[0].focus(),s.find("li").removeClass("ui-timepicker-selected"),t(this).addClass("ui-timepicker-selected"),v(e)&&(e.trigger("hideTimepicker"),s.on("mouseup.timepicker","li",function(t){s.off("mouseup.timepicker"),a.hide()}))})}}function n(e,i){var s,a,n;return"object"==typeof e?(s=e.label,a=e.className,n=e.value):"string"==typeof e?s=e:t.error("Invalid noneOption value"),i?t("<option />",{value:n,"class":a,text:s}):t("<li />",{"class":a,text:s}).data("time",n)}function r(t,e){return t=e.roundingFunction(t,e),null!==t?k(t,e):void 0}function o(){return new Date(1970,1,1,0,0,0)}function h(e){var i=t(e.target),s=i.closest(".ui-timepicker-input");0===s.length&&0===i.closest(".ui-timepicker-wrapper").length&&(b.hide(),t(document).unbind(".ui-timepicker"),t(window).unbind(".ui-timepicker"))}function l(t){var e=t.data("timepicker-settings");return(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&e.disableTouchKeyboard}function u(e,i,s){if(!s&&0!==s)return!1;var a=e.data("timepicker-settings"),n=!1,s=a.roundingFunction(s,a);return i.find("li").each(function(e,i){var a=t(i);if("number"==typeof a.data("time"))return a.data("time")==s?(n=a,!1):void 0}),n}function c(t,e){e.find("li").removeClass("ui-timepicker-selected");var i=T(p(t),t.data("timepicker-settings"));if(null!==i){var s=u(t,e,i);if(s){var a=s.offset().top-e.offset().top;(a+s.outerHeight()>e.outerHeight()||0>a)&&e.scrollTop(e.scrollTop()+s.position().top-s.outerHeight()),s.addClass("ui-timepicker-selected")}}}function d(e,i){if(""!==this.value&&"timepicker"!=i){var s=t(this);if(!s.is(":focus")||e&&"change"==e.type){var a=s.data("timepicker-settings"),n=T(this.value,a);if(null===n)return void s.trigger("timeFormatError");var r=!1;null!==a.minTime&&n<a.minTime?r=!0:null!==a.maxTime&&n>a.maxTime&&(r=!0),t.each(a.disableTimeRanges,function(){return n>=this[0]&&n<this[1]?(r=!0,!1):void 0}),a.forceRoundTime&&(n=a.roundingFunction(n,a));var o=k(n,a);r?f(s,o,"error")&&s.trigger("timeRangeError"):f(s,o)}}}function p(t){return t.is("input")?t.val():t.data("ui-timepicker-value")}function f(t,e,i){if(t.is("input")){t.val(e);var s=t.data("timepicker-settings");s.useSelect&&"select"!=i&&"initial"!=i&&t.data("timepicker-list").val(r(T(e),s))}return t.data("ui-timepicker-value")!=e?(t.data("ui-timepicker-value",e),"select"==i?t.trigger("selectTime").trigger("changeTime").trigger("change","timepicker"):"error"!=i&&t.trigger("changeTime"),!0):(t.trigger("selectTime"),!1)}function m(i){var s=t(this),a=s.data("timepicker-list");if(!a||!e(a)){if(40!=i.keyCode)return!0;b.show.call(s.get(0)),a=s.data("timepicker-list"),l(s)||s.focus()}switch(i.keyCode){case 13:return v(s)&&b.hide.apply(this),i.preventDefault(),!1;case 38:var n=a.find(".ui-timepicker-selected");return n.length?n.is(":first-child")||(n.removeClass("ui-timepicker-selected"),n.prev().addClass("ui-timepicker-selected"),n.prev().position().top<n.outerHeight()&&a.scrollTop(a.scrollTop()-n.outerHeight())):(a.find("li").each(function(e,i){return t(i).position().top>0?(n=t(i),!1):void 0}),n.addClass("ui-timepicker-selected")),!1;case 40:return n=a.find(".ui-timepicker-selected"),0===n.length?(a.find("li").each(function(e,i){return t(i).position().top>0?(n=t(i),!1):void 0}),n.addClass("ui-timepicker-selected")):n.is(":last-child")||(n.removeClass("ui-timepicker-selected"),n.next().addClass("ui-timepicker-selected"),n.next().position().top+2*n.outerHeight()>a.outerHeight()&&a.scrollTop(a.scrollTop()+n.outerHeight())),!1;case 27:a.find("li").removeClass("ui-timepicker-selected"),b.hide();break;case 9:b.hide();break;default:return!0}}function g(i){var s=t(this),a=s.data("timepicker-list"),n=s.data("timepicker-settings");if(!a||!e(a)||n.disableTextInput)return!0;switch(i.keyCode){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 77:case 80:case 186:case 8:case 46:n.typeaheadHighlight?c(s,a):a.hide()}}function v(t){var e=t.data("timepicker-settings"),i=t.data("timepicker-list"),s=null,a=i.find(".ui-timepicker-selected");return a.hasClass("ui-timepicker-disabled")?!1:(a.length&&(s=a.data("time")),null!==s&&("string"!=typeof s&&(s=k(s,e)),f(t,s,"select")),!0)}function D(t,e){t=Math.abs(t);var i,s,a=Math.round(t/60),n=[];return 60>a?n=[a,C.mins]:(i=Math.floor(a/60),s=a%60,30==e&&30==s&&(i+=C.decimal+5),n.push(i),n.push(1==i?C.hr:C.hrs),30!=e&&s&&(n.push(s),n.push(C.mins))),n.join(" ")}function k(e,i){if(null===e)return null;var s=new Date(y.valueOf()+1e3*e);if(isNaN(s.getTime()))return null;if("function"===t.type(i.timeFormat))return i.timeFormat(s);for(var a,n,r="",o=0;o<i.timeFormat.length;o++)switch(n=i.timeFormat.charAt(o)){case"a":r+=s.getHours()>11?C.pm:C.am;break;case"A":r+=s.getHours()>11?C.PM:C.AM;break;case"g":a=s.getHours()%12,r+=0===a?"12":a;break;case"G":a=s.getHours(),e===w&&(a=24),r+=a;break;case"h":a=s.getHours()%12,0!==a&&10>a&&(a="0"+a),r+=0===a?"12":a;break;case"H":a=s.getHours(),e===w&&(a=24),r+=a>9?a:"0"+a;break;case"i":var h=s.getMinutes();r+=h>9?h:"0"+h;break;case"s":e=s.getSeconds(),r+=e>9?e:"0"+e;break;case"\\":o++,r+=i.timeFormat.charAt(o);break;default:r+=n}return r}function T(t,e){if(""===t)return null;if(!t||t+0==t)return t;if("object"==typeof t)return 3600*t.getHours()+60*t.getMinutes()+t.getSeconds();t=t.toLowerCase().replace(/[\s\.]/g,""),("a"==t.slice(-1)||"p"==t.slice(-1))&&(t+="m");var i="("+C.am.replace(".","")+"|"+C.pm.replace(".","")+"|"+C.AM.replace(".","")+"|"+C.PM.replace(".","")+")?",s=new RegExp("^"+i+"([0-2]?[0-9])\\W?([0-5][0-9])?\\W?([0-5][0-9])?"+i+"$"),a=t.match(s);if(!a)return null;var n=parseInt(1*a[2],10),r=a[1]||a[5],o=n;if(12>=n&&r){var h=r==C.pm||r==C.PM;o=12==n?h?12:0:n+(h?12:0)}var l=1*a[3]||0,u=1*a[4]||0,c=3600*o+60*l+u;if(!r&&e&&e._twelveHourTime&&e.scrollDefault){var d=c-e.scrollDefault();0>d&&d>=w/-2&&(c=(c+w/2)%w)}return c}var y=o(),w=86400,C={am:"am",pm:"pm",AM:"AM",PM:"PM",decimal:".",mins:"mins",hr:"hr",hrs:"hrs"},b={init:function(e){return this.each(function(){var n=t(this),r=[];for(var o in t.fn.timepicker.defaults)n.data(o)&&(r[o]=n.data(o));var h=t.extend({},t.fn.timepicker.defaults,r,e);if(h.lang&&(C=t.extend(C,h.lang)),h=s(h),n.data("timepicker-settings",h),n.addClass("ui-timepicker-input"),h.useSelect)a(n);else{if(n.prop("autocomplete","off"),h.showOn)for(i in h.showOn)n.on(h.showOn[i]+".timepicker",b.show);n.on("change.timepicker",d),n.on("keydown.timepicker",m),n.on("keyup.timepicker",g),h.disableTextInput&&n.on("keypress.timepicker",function(t){t.preventDefault()}),d.call(n.get(0))}})},show:function(i){var s=t(this),n=s.data("timepicker-settings");if(i&&i.preventDefault(),n.useSelect)return void s.data("timepicker-list").focus();l(s)&&s.blur();var r=s.data("timepicker-list");if(!s.prop("readonly")&&(r&&0!==r.length&&"function"!=typeof n.durationTime||(a(s),r=s.data("timepicker-list")),!e(r))){s.data("ui-timepicker-value",s.val()),c(s,r),b.hide(),r.show();var o={};n.orientation.match(/r/)?o.left=s.offset().left+s.outerWidth()-r.outerWidth()+parseInt(r.css("marginLeft").replace("px",""),10):o.left=s.offset().left+parseInt(r.css("marginLeft").replace("px",""),10);var d;d=n.orientation.match(/t/)?"t":n.orientation.match(/b/)?"b":s.offset().top+s.outerHeight(!0)+r.outerHeight()>t(window).height()+t(window).scrollTop()?"t":"b","t"==d?(r.addClass("ui-timepicker-positioned-top"),o.top=s.offset().top-r.outerHeight()+parseInt(r.css("marginTop").replace("px",""),10)):(r.removeClass("ui-timepicker-positioned-top"),o.top=s.offset().top+s.outerHeight()+parseInt(r.css("marginTop").replace("px",""),10)),r.offset(o);var f=r.find(".ui-timepicker-selected");if(f.length||(p(s)?f=u(s,r,T(p(s))):n.scrollDefault&&(f=u(s,r,n.scrollDefault()))),f&&f.length){var m=r.scrollTop()+f.position().top-f.outerHeight();r.scrollTop(m)}else r.scrollTop(0);return n.stopScrollPropagation&&t(document).on("wheel.ui-timepicker",".ui-timepicker-wrapper",function(e){e.preventDefault();var i=t(this).scrollTop();t(this).scrollTop(i+e.originalEvent.deltaY)}),t(document).on("touchstart.ui-timepicker mousedown.ui-timepicker",h),t(window).on("resize.ui-timepicker",h),n.closeOnWindowScroll&&t(document).on("scroll.ui-timepicker",h),s.trigger("showTimepicker"),this}},hide:function(i){var s=t(this),a=s.data("timepicker-settings");return a&&a.useSelect&&s.blur(),t(".ui-timepicker-wrapper").each(function(){var i=t(this);if(e(i)){var s=i.data("timepicker-input"),a=s.data("timepicker-settings");a&&a.selectOnBlur&&v(s),i.hide(),s.trigger("hideTimepicker")}}),this},option:function(e,i){return this.each(function(){var n=t(this),r=n.data("timepicker-settings"),o=n.data("timepicker-list");if("object"==typeof e)r=t.extend(r,e);else if("string"==typeof e&&"undefined"!=typeof i)r[e]=i;else if("string"==typeof e)return r[e];r=s(r),n.data("timepicker-settings",r),o&&(o.remove(),n.data("timepicker-list",!1)),r.useSelect&&a(n)})},getSecondsFromMidnight:function(){return T(p(this))},getTime:function(t){var e=this,i=p(e);if(!i)return null;var s=T(i);if(null===s)return null;t||(t=new Date);var a=new Date(t);return a.setHours(s/3600),a.setMinutes(s%3600/60),a.setSeconds(s%60),a.setMilliseconds(0),a},setTime:function(t){var e=this,i=e.data("timepicker-settings");if(i.forceRoundTime)var s=r(T(t),i);else var s=k(T(t),i);return t&&null===s&&i.noneOption&&(s=t),f(e,s),e.data("timepicker-list")&&c(e,e.data("timepicker-list")),this},remove:function(){var t=this;if(t.hasClass("ui-timepicker-input")){var e=t.data("timepicker-settings");return t.removeAttr("autocomplete","off"),t.removeClass("ui-timepicker-input"),t.removeData("timepicker-settings"),t.off(".timepicker"),t.data("timepicker-list")&&t.data("timepicker-list").remove(),e.useSelect&&t.show(),t.removeData("timepicker-list"),this}}};t.fn.timepicker=function(e){return this.length?b[e]?this.hasClass("ui-timepicker-input")?b[e].apply(this,Array.prototype.slice.call(arguments,1)):this:"object"!=typeof e&&e?void t.error("Method "+e+" does not exist on jQuery.timepicker"):b.init.apply(this,arguments):this},t.fn.timepicker.defaults={className:null,minTime:null,maxTime:null,durationTime:null,step:30,showDuration:!1,showOnFocus:!0,showOn:["click","focus"],timeFormat:"g:ia",scrollDefault:null,selectOnBlur:!1,disableTextInput:!1,disableTouchKeyboard:!1,forceRoundTime:!1,roundingFunction:function(t,e){if(null===t)return null;var i=t%(60*e.step);return i>=30*e.step?t+=60*e.step-i:t-=i,t},appendTo:"body",orientation:"l",disableTimeRanges:[],closeOnWindowScroll:!1,typeaheadHighlight:!0,noneOption:!1,show2400:!1,stopScrollPropagation:!1}});

// PickAday plug in
!function(t,e){"use strict";var n;if("object"==typeof exports){try{n=require("moment")}catch(i){}module.exports=e(n)}else"function"==typeof define&&define.amd?define(function(t){var i="moment";try{n=t(i)}catch(a){}return e(n)}):t.Pikaday=e(t.moment)}(this,function(t){"use strict";var e="function"==typeof t,n=!!window.addEventListener,i=window.document,a=window.setTimeout,o=function(t,e,i,a){n?t.addEventListener(e,i,!!a):t.attachEvent("on"+e,i)},s=function(t,e,i,a){n?t.removeEventListener(e,i,!!a):t.detachEvent("on"+e,i)},r=function(t,e,n){var a;i.createEvent?(a=i.createEvent("HTMLEvents"),a.initEvent(e,!0,!1),a=D(a,n),t.dispatchEvent(a)):i.createEventObject&&(a=i.createEventObject(),a=D(a,n),t.fireEvent("on"+e,a))},h=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},l=function(t,e){return-1!==(" "+t.className+" ").indexOf(" "+e+" ")},d=function(t,e){l(t,e)||(t.className=""===t.className?e:t.className+" "+e)},u=function(t,e){t.className=h((" "+t.className+" ").replace(" "+e+" "," "))},c=function(t){return/Array/.test(Object.prototype.toString.call(t))},f=function(t){return/Date/.test(Object.prototype.toString.call(t))&&!isNaN(t.getTime())},g=function(t){var e=t.getDay();return 0===e||6===e},m=function(t){return t%4===0&&t%100!==0||t%400===0},p=function(t,e){return[31,m(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},y=function(t){f(t)&&t.setHours(0,0,0,0)},_=function(t,e){return t.getTime()===e.getTime()},D=function(t,e,n){var i,a;for(i in e)a=void 0!==t[i],a&&"object"==typeof e[i]&&null!==e[i]&&void 0===e[i].nodeName?f(e[i])?n&&(t[i]=new Date(e[i].getTime())):c(e[i])?n&&(t[i]=e[i].slice(0)):t[i]=D({},e[i],n):(n||!a)&&(t[i]=e[i]);return t},v=function(t){return t.month<0&&(t.year-=Math.ceil(Math.abs(t.month)/12),t.month+=12),t.month>11&&(t.year+=Math.floor(Math.abs(t.month)/12),t.month-=12),t},b={field:null,bound:void 0,position:"bottom left",reposition:!0,format:"YYYY-MM-DD",defaultDate:null,setDefaultDate:!1,firstDay:0,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,onSelect:null,onOpen:null,onClose:null,onDraw:null},w=function(t,e,n){for(e+=t.firstDay;e>=7;)e-=7;return n?t.i18n.weekdaysShort[e]:t.i18n.weekdays[e]},M=function(t){if(t.isEmpty)return'<td class="is-empty"></td>';var e=[];return t.isDisabled&&e.push("is-disabled"),t.isToday&&e.push("is-today"),t.isSelected&&e.push("is-selected"),t.isInRange&&e.push("is-inrange"),t.isStartRange&&e.push("is-startrange"),t.isEndRange&&e.push("is-endrange"),'<td data-day="'+t.day+'" class="'+e.join(" ")+'"><button class="pika-button pika-day" type="button" data-pika-year="'+t.year+'" data-pika-month="'+t.month+'" data-pika-day="'+t.day+'">'+t.day+"</button></td>"},k=function(t,e,n){var i=new Date(n,0,1),a=Math.ceil(((new Date(n,e,t)-i)/864e5+i.getDay()+1)/7);return'<td class="pika-week">'+a+"</td>"},R=function(t,e){return"<tr>"+(e?t.reverse():t).join("")+"</tr>"},x=function(t){return"<tbody>"+t.join("")+"</tbody>"},N=function(t){var e,n=[];for(t.showWeekNumber&&n.push("<th></th>"),e=0;7>e;e++)n.push('<th scope="col"><abbr title="'+w(t,e)+'">'+w(t,e,!0)+"</abbr></th>");return"<thead>"+(t.isRTL?n.reverse():n).join("")+"</thead>"},C=function(t,e,n,i,a){var o,s,r,h,l,d=t._o,u=n===d.minYear,f=n===d.maxYear,g='<div class="pika-title">',m=!0,p=!0;for(r=[],o=0;12>o;o++)r.push('<option value="'+(n===a?o-e:12+o-e)+'"'+(o===i?" selected":"")+(u&&o<d.minMonth||f&&o>d.maxMonth?"disabled":"")+">"+d.i18n.months[o]+"</option>");for(h='<div class="pika-label">'+d.i18n.months[i]+'<select class="pika-select pika-select-month" tabindex="-1">'+r.join("")+"</select></div>",c(d.yearRange)?(o=d.yearRange[0],s=d.yearRange[1]+1):(o=n-d.yearRange,s=1+n+d.yearRange),r=[];s>o&&o<=d.maxYear;o++)o>=d.minYear&&r.push('<option value="'+o+'"'+(o===n?" selected":"")+">"+o+"</option>");return l='<div class="pika-label">'+n+d.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+r.join("")+"</select></div>",g+=d.showMonthAfterYear?l+h:h+l,u&&(0===i||d.minMonth>=i)&&(m=!1),f&&(11===i||d.maxMonth<=i)&&(p=!1),0===e&&(g+='<button class="pika-prev'+(m?"":" is-disabled")+'" type="button">'+d.i18n.previousMonth+"</button>"),e===t._o.numberOfMonths-1&&(g+='<button class="pika-next'+(p?"":" is-disabled")+'" type="button">'+d.i18n.nextMonth+"</button>"),g+="</div>"},T=function(t,e){return'<table cellpadding="0" cellspacing="0" class="pika-table">'+N(t)+x(e)+"</table>"},E=function(s){var r=this,h=r.config(s);r._onMouseDown=function(t){if(r._v){t=t||window.event;var e=t.target||t.srcElement;if(e)if(l(e,"is-disabled")||(l(e,"pika-button")&&!l(e,"is-empty")?(r.setDate(new Date(e.getAttribute("data-pika-year"),e.getAttribute("data-pika-month"),e.getAttribute("data-pika-day"))),h.bound&&a(function(){r.hide(),h.field&&h.field.blur()},100)):l(e,"pika-prev")?r.prevMonth():l(e,"pika-next")&&r.nextMonth()),l(e,"pika-select"))r._c=!0;else{if(!t.preventDefault)return t.returnValue=!1,!1;t.preventDefault()}}},r._onChange=function(t){t=t||window.event;var e=t.target||t.srcElement;e&&(l(e,"pika-select-month")?r.gotoMonth(e.value):l(e,"pika-select-year")&&r.gotoYear(e.value))},r._onInputChange=function(n){var i;n.firedBy!==r&&(e?(i=t(h.field.value,h.format),i=i&&i.isValid()?i.toDate():null):i=new Date(Date.parse(h.field.value)),f(i)&&r.setDate(i),r._v||r.show())},r._onInputFocus=function(){r.show()},r._onInputClick=function(){r.show()},r._onInputBlur=function(){var t=i.activeElement;do if(l(t,"pika-single"))return;while(t=t.parentNode);r._c||(r._b=a(function(){r.hide()},50)),r._c=!1},r._onClick=function(t){t=t||window.event;var e=t.target||t.srcElement,i=e;if(e){!n&&l(e,"pika-select")&&(e.onchange||(e.setAttribute("onchange","return;"),o(e,"change",r._onChange)));do if(l(i,"pika-single")||i===h.trigger)return;while(i=i.parentNode);r._v&&e!==h.trigger&&i!==h.trigger&&r.hide()}},r.el=i.createElement("div"),r.el.className="pika-single"+(h.isRTL?" is-rtl":"")+(h.theme?" "+h.theme:""),o(r.el,"mousedown",r._onMouseDown,!0),o(r.el,"touchend",r._onMouseDown,!0),o(r.el,"change",r._onChange),h.field&&(h.container?h.container.appendChild(r.el):h.bound?i.body.appendChild(r.el):h.field.parentNode.insertBefore(r.el,h.field.nextSibling),o(h.field,"change",r._onInputChange),h.defaultDate||(e&&h.field.value?h.defaultDate=t(h.field.value,h.format).toDate():h.defaultDate=new Date(Date.parse(h.field.value)),h.setDefaultDate=!0));var d=h.defaultDate;f(d)?h.setDefaultDate?r.setDate(d,!0):r.gotoDate(d):r.gotoDate(new Date),h.bound?(this.hide(),r.el.className+=" is-bound",o(h.trigger,"click",r._onInputClick),o(h.trigger,"focus",r._onInputFocus),o(h.trigger,"blur",r._onInputBlur)):this.show()};return E.prototype={config:function(t){this._o||(this._o=D({},b,!0));var e=D(this._o,t,!0);e.isRTL=!!e.isRTL,e.field=e.field&&e.field.nodeName?e.field:null,e.theme="string"==typeof e.theme&&e.theme?e.theme:null,e.bound=!!(void 0!==e.bound?e.field&&e.bound:e.field),e.trigger=e.trigger&&e.trigger.nodeName?e.trigger:e.field,e.disableWeekends=!!e.disableWeekends,e.disableDayFn="function"==typeof e.disableDayFn?e.disableDayFn:null;var n=parseInt(e.numberOfMonths,10)||1;if(e.numberOfMonths=n>4?4:n,f(e.minDate)||(e.minDate=!1),f(e.maxDate)||(e.maxDate=!1),e.minDate&&e.maxDate&&e.maxDate<e.minDate&&(e.maxDate=e.minDate=!1),e.minDate&&this.setMinDate(e.minDate),e.maxDate&&this.setMaxDate(e.maxDate),c(e.yearRange)){var i=(new Date).getFullYear()-10;e.yearRange[0]=parseInt(e.yearRange[0],10)||i,e.yearRange[1]=parseInt(e.yearRange[1],10)||i}else e.yearRange=Math.abs(parseInt(e.yearRange,10))||b.yearRange,e.yearRange>100&&(e.yearRange=100);return e},toString:function(n){return f(this._d)?e?t(this._d).format(n||this._o.format):this._d.toDateString():""},getMoment:function(){return e?t(this._d):null},setMoment:function(n,i){e&&t.isMoment(n)&&this.setDate(n.toDate(),i)},getDate:function(){return f(this._d)?new Date(this._d.getTime()):null},setDate:function(t,e){if(!t)return this._d=null,this._o.field&&(this._o.field.value="",r(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof t&&(t=new Date(Date.parse(t))),f(t)){var n=this._o.minDate,i=this._o.maxDate;f(n)&&n>t?t=n:f(i)&&t>i&&(t=i),this._d=new Date(t.getTime()),y(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),r(this._o.field,"change",{firedBy:this})),e||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(t){var e=!0;if(f(t)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),i=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),a=t.getTime();i.setMonth(i.getMonth()+1),i.setDate(i.getDate()-1),e=a<n.getTime()||i.getTime()<a}e&&(this.calendars=[{month:t.getMonth(),year:t.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustCalendars:function(){this.calendars[0]=v(this.calendars[0]);for(var t=1;t<this._o.numberOfMonths;t++)this.calendars[t]=v({month:this.calendars[0].month+t,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(t){isNaN(t)||(this.calendars[0].month=parseInt(t,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(t){isNaN(t)||(this.calendars[0].year=parseInt(t,10),this.adjustCalendars())},setMinDate:function(t){y(t),this._o.minDate=t,this._o.minYear=t.getFullYear(),this._o.minMonth=t.getMonth(),this.draw()},setMaxDate:function(t){y(t),this._o.maxDate=t,this._o.maxYear=t.getFullYear(),this._o.maxMonth=t.getMonth(),this.draw()},setStartRange:function(t){this._o.startRange=t},setEndRange:function(t){this._o.endRange=t},draw:function(t){if(this._v||t){var e=this._o,n=e.minYear,i=e.maxYear,o=e.minMonth,s=e.maxMonth,r="";this._y<=n&&(this._y=n,!isNaN(o)&&this._m<o&&(this._m=o)),this._y>=i&&(this._y=i,!isNaN(s)&&this._m>s&&(this._m=s));for(var h=0;h<e.numberOfMonths;h++)r+='<div class="pika-lendar">'+C(this,h,this.calendars[h].year,this.calendars[h].month,this.calendars[0].year)+this.render(this.calendars[h].year,this.calendars[h].month)+"</div>";if(this.el.innerHTML=r,e.bound&&"hidden"!==e.field.type&&a(function(){e.trigger.focus()},1),"function"==typeof this._o.onDraw){var l=this;a(function(){l._o.onDraw.call(l)},0)}}},adjustPosition:function(){var t,e,n,a,o,s,r,h,l,d;if(!this._o.container){if(this.el.style.position="absolute",t=this._o.trigger,e=t,n=this.el.offsetWidth,a=this.el.offsetHeight,o=window.innerWidth||i.documentElement.clientWidth,s=window.innerHeight||i.documentElement.clientHeight,r=window.pageYOffset||i.body.scrollTop||i.documentElement.scrollTop,"function"==typeof t.getBoundingClientRect)d=t.getBoundingClientRect(),h=d.left+window.pageXOffset,l=d.bottom+window.pageYOffset;else for(h=e.offsetLeft,l=e.offsetTop+e.offsetHeight;e=e.offsetParent;)h+=e.offsetLeft,l+=e.offsetTop;(this._o.reposition&&h+n>o||this._o.position.indexOf("right")>-1&&h-n+t.offsetWidth>0)&&(h=h-n+t.offsetWidth),(this._o.reposition&&l+a>s+r||this._o.position.indexOf("top")>-1&&l-a-t.offsetHeight>0)&&(l=l-a-t.offsetHeight),this.el.style.left=h+"px",this.el.style.top=l+"px"}},render:function(t,e){var n=this._o,i=new Date,a=p(t,e),o=new Date(t,e,1).getDay(),s=[],r=[];y(i),n.firstDay>0&&(o-=n.firstDay,0>o&&(o+=7));for(var h=a+o,l=h;l>7;)l-=7;h+=7-l;for(var d=0,u=0;h>d;d++){var c=new Date(t,e,1+(d-o)),m=f(this._d)?_(c,this._d):!1,D=_(c,i),v=o>d||d>=a+o,b=n.startRange&&_(n.startRange,c),w=n.endRange&&_(n.endRange,c),x=n.startRange&&n.endRange&&n.startRange<c&&c<n.endRange,N=n.minDate&&c<n.minDate||n.maxDate&&c>n.maxDate||n.disableWeekends&&g(c)||n.disableDayFn&&n.disableDayFn(c),C={day:1+(d-o),month:e,year:t,isSelected:m,isToday:D,isDisabled:N,isEmpty:v,isStartRange:b,isEndRange:w,isInRange:x};r.push(M(C)),7===++u&&(n.showWeekNumber&&r.unshift(k(d-o,e,t)),s.push(R(r,n.isRTL)),r=[],u=0)}return T(n,s)},isVisible:function(){return this._v},show:function(){this._v||(u(this.el,"is-hidden"),this._v=!0,this.draw(),this._o.bound&&(o(i,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var t=this._v;t!==!1&&(this._o.bound&&s(i,"click",this._onClick),this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto",d(this.el,"is-hidden"),this._v=!1,void 0!==t&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){this.hide(),s(this.el,"mousedown",this._onMouseDown,!0),s(this.el,"touchend",this._onMouseDown,!0),s(this.el,"change",this._onChange),this._o.field&&(s(this._o.field,"change",this._onInputChange),this._o.bound&&(s(this._o.trigger,"click",this._onInputClick),s(this._o.trigger,"focus",this._onInputFocus),s(this._o.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},E});